PPU は 256x240 の画像領域と、左に16ピクセル、右に11ピクセル、下に2ピクセルの境界領域、計283x242を出力する

画像領域はピクセルを選ぶシフトレジスタを埋めるメモリフェッチによって生成される

それはスクリーン全体を埋める背景領域と、その上にほぼどこにでも配置出来る小さいスプライトによって構成される

境界、または透過ピクセルでは、PPU は PPUのEXT入力で選ばれたパレットインデックスを表示する？ \
(実機では0に接続されている)

# 背景のレンダリング

背景を生成するために、PPUは0~239と261スキャンラインの321~336、1~125サイクルでメモリフェッチを行う

各メモリフェッチは2ドットかかる(？)

1. フルアドレスがPPUのアドレスバスに置かれ、その下位8ビットが外部アドレスラッチに保存される
2. 読み取りが実行される

データバスとアドレスの下位8ビットは同じ物理ピンを使っているので、アドレスは読み取り可能になる前に外部にラッチしなければならない \
(そうしないと読み込んだデータで上書きされて消えちゃうということ？エミュでは無視できそうな仕様っぽい？)

8ドットの枠で、8ピクセルを生成するために、PPUは4回メモリフェッチを行いPPUバスを完全に占有する

PPUは、目的のアドレスを生成するために、現在のスクロールレジスタVを使い、名前テーブルからタイルIDを、属性テーブルから属性データを
そのタイルIDの下位、それから上位ビットプレーンをフェッチする

フェッチされたバイトは内部レジスタに保存される

8番目のドットに到達すると、パターンデータと属性データはピクセルデータを生成するのに使われたレジスタに転送される

パターンデータは2つの16bitのシフトレジスタの上位8ビットへ、属性データは2ビットのみが8bitシフトレジスタを埋める2つの1ビットのラッチに転送される

属性データは全8ピクセルで共通なので、全体をコピーする代わりにこうなってる



# 備考

レジスタの全容を把握する必要がある


